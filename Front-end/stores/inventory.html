<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IEMM - Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="../views/css/styles.css">
  <link rel="stylesheet" href="../views/css/chat.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="../views/js/script.js" defer></script>
  <script src="../views/js/theme-manager.js" defer></script>
  <script src="../views/js/stores/chat.js" defer></script>
</head>
<body>
  <!-- Header Section -->
  <header>
    <div class="container navbar">
      <h1>IEMM</h1>
      <nav>
        <a href="shop-dashboard.html" id="dashboard-link" >ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
        <a href="products-management.html" id="products-link">ğŸ›ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
        <a href="inventory.html" id="inventory-link" class="active">ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</a>

        <a href="employees.html" id="staff-link">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ù„ÙŠÙ†</a>
        <a href="bills-stores.html" id="bills-link">ğŸ’° Ø§Ù„ÙÙˆØ§ØªÙŠØ±</a>
      </nav>
      <div style="display: flex; align-items: center; gap: 12px;">
 <button class="btn-dark convert" ></button>
        <!-- <button class="btn-dark " onclick="document.body.classList.toggle('dark')">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</button> -->        <button id="chat-toggle" class="chat-toggle-btn" title="Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…ÙˆÙ„">
          <i class="fas fa-comments"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
  <div id="chat-panel" class="chat-panel">
    <div class="chat-header">
      <div class="mall-logo-container">
        <img id="mall-logo" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆÙ„" class="mall-logo">
        <h3>Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…ÙˆÙ„</h3>
      </div>
      <button id="chat-close" class="chat-close-btn">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div id="messages-container" class="messages-container">
      <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø¨Ø± JavaScript -->
    </div>
    <form id="message-form" class="message-form">
      <textarea id="message-input" class="message-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." rows="1"></textarea>
      <button type="submit" class="send-message-btn">
        <i class="fas fa-paper-plane"></i>
      </button>
    </form>
  </div>

    <!-- Main Content -->
    <div class="main">
      <!-- Inventory Management Section -->
      <div class="section active" id="inventory-section">
        <div class="section-header">
          <h2 class="section-title">ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h2>
        </div>
        <div class="alerts card">
          <h3>ğŸš¨ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
          <div id="inventory-alerts">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
          </div>
        </div>

        <div class="table card">
          <div class="table-header">
            <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
            <button class="btn-green" onclick="document.getElementById('newInventoryFormContainer').style.display = document.getElementById('newInventoryFormContainer').style.display === 'none' ? 'block' : 'none'">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø²ÙˆÙ† Ø¬Ø¯ÙŠØ¯</button>
          </div>

          <div class="form-container" id="newInventoryFormContainer" style="display:none;">
            <div class="form card">
              <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø²ÙˆÙ† Ø¬Ø¯ÙŠØ¯</h3>
              <div class="form-sections">
                <div class="form-section">
                  <h4>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h4>
                  <div class="form-grid">
                    <div class="form-group">
                      <label>Ø§Ù„Ù…Ù†ØªØ¬</label>
                      <input type="text" id="product-search" placeholder="Ø§Ø¨Ø¯Ø£ Ø¨ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬..." required />
                      <div id="product-suggestions" class="suggestions-container"></div>
                    </div>
                    <div class="form-group">
                      <label>Ø§Ù„Ù…Ø®Ø²Ù†</label>
                      <select id="warehouse-select" required>
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø®Ø²Ù†</option>
                        <option value="main">Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option>
                        <option value="secondary">Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                        <option value="external">Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø¶Ø§ÙØ©</label>
                      <input type="number" required />
                    </div>
                    <div class="form-group">
                      <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø¶Ø§ÙØ©</label>
                      <input type="date" required />
                    </div>
                    <div class="form-group">
                      <label>Ø±Ù‚Ù… Ø§Ù„Ø±Ù</label>
                      <input type="text" required />
                    </div>
                    <div class="form-group">
                      <label>Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù†</label>
                      <input type="text" required />
                    </div>
                    <div class="form-group">
                      <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                      <textarea></textarea>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn-green">Ø­ÙØ¸</button>
                <button type="button" class="btn-secondary" onclick="document.getElementById('newInventoryFormContainer').style.display = 'none'">Ø¥Ù„ØºØ§Ø¡</button>
              </div>
            </div>
          </div>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
                  <th>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</th>
                  <th>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰</th>
                  <th>Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«</th>
                  <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                  <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                </tr>
              </thead>
              <tbody id="inventory-table-body">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
              </tbody>
            </table>
          </div>

          <div class="table-header">
            <br>
            <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†</h3>
            <button class="btn-green" onclick="document.getElementById('newWarehouseFormContainer').style.display = document.getElementById('newWarehouseFormContainer').style.display === 'none' ? 'block' : 'none'">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø²Ù† Ø¬Ø¯ÙŠØ¯</button>
          </div>

          <div class="form-container" id="newWarehouseFormContainer" style="display:none;">
            <div class="form card">
              <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø²Ù† Ø¬Ø¯ÙŠØ¯</h3>
              <div class="form-sections">
                <div class="form-section">
                  <h4>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†</h4>
                  <div class="form-grid">
                    <div class="form-group">
                      <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø®Ø²Ù†</label>
                      <input type="text" required />
                    </div>
                    <div class="form-group">
                      <label>Ø§Ù„Ù…ÙˆÙ‚Ø¹</label>
                      <input type="text" required />
                    </div>
                    <div class="form-group">
                      <label>Ø§Ù„Ø³Ø¹Ø©</label>
                      <input type="number" required />
                    </div>
                    <div class="form-group">
                      <label>Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</label>
                      <input type="text" required />
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn-green">Ø­ÙØ¸</button>
                <button type="button" class="btn-secondary" onclick="document.getElementById('newWarehouseFormContainer').style.display = 'none'">Ø¥Ù„ØºØ§Ø¡</button>
              </div>
            </div>
          </div>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø®Ø²Ù†</th>
                  <th>Ø§Ù„Ù…ÙˆÙ‚Ø¹</th>
                  <th>Ø§Ù„Ø³Ø¹Ø©</th>
                  <th>Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</th>
                  <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                  <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                </tr>
              </thead>
              <tbody id="warehouses-table-body">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Ø¥Ø¶Ø§ÙØ© Ø³ØªØ§ÙŠÙ„Ø§Øª CSS Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© -->
    <style>
      /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
      .form-sections {
        display: grid;
        gap: 24px;
        margin-bottom: 24px;
      }

      .form-section {
        background: #f8fafc;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .form-section h4 {
        margin: 0 0 20px 0;
        color: #1e3a8a;
        font-size: 1.1rem;
        padding-bottom: 10px;
        border-bottom: 1px solid #e2e8f0;
      }

      .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .form-group label {
        color: #1e293b;
        font-weight: 500;
        font-size: 0.9rem;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        padding: 10px 12px;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        font-size: 0.9rem;
        width: 100%;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
      }

      .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #e2e8f0;
      }

      /* ØªÙ†Ø³ÙŠÙ‚ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª */
      .suggestions-container {
        position: absolute;
        width: 100%;
        max-height: 200px;
        overflow-y: auto;
        background-color: #fff;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        z-index: 100;
        display: none;
        margin-top: 2px;
      }

      .suggestion-item {
        padding: 8px 12px;
        cursor: pointer;
        transition: background-color 0.2s ease;
        display: flex;
        flex-direction: column;
        gap: 4px;
        border-bottom: 1px solid #f1f5f9;
      }

      .suggestion-item:last-child {
        border-bottom: none;
      }

      .suggestion-item:hover, .suggestion-item.active {
        background-color: #f1f5f9;
      }

      .product-category, .product-sku {
        font-size: 0.8rem;
        color: #64748b;
        margin-right: 8px;
      }

      .product-sku {
        font-family: monospace;
        background-color: #f1f5f9;
        padding: 2px 4px;
        border-radius: 4px;
      }

      mark {
        background-color: rgba(34, 197, 94, 0.2);
        color: #166534;
        padding: 0 2px;
        border-radius: 2px;
        font-weight: 500;
      }

      input.selected {
        border-color: #22c55e;
        background-color: rgba(34, 197, 94, 0.05);
        transition: all 0.3s ease;
      }

      /* ØªÙ†Ø³ÙŠÙ‚ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
      .dark .suggestions-container {
        background-color: #1e293b;
        border-color: #475569;
      }

      .dark .suggestion-item {
        border-bottom-color: #334155;
      }

      .dark .suggestion-item:hover, .dark .suggestion-item.active {
        background-color: #334155;
      }

      .dark .product-category, .dark .product-sku {
        color: #94a3b8;
      }

      .dark .product-sku {
        background-color: #334155;
      }

      .dark mark {
        background-color: rgba(34, 197, 94, 0.3);
        color: #4ade80;
      }

      .dark input.selected {
        border-color: #22c55e;
        background-color: rgba(34, 197, 94, 0.1);
      }

      .dark .form-section {
        background: var(--dark-chart);
      }

      .dark .form-section h4 {
        color: var(--dark-text);
        border-color: #334155;
      }

      .dark .form-group label {
        color: var(--dark-text);
      }

      .dark .form-group input,
      .dark .form-group select,
      .dark .form-group textarea {
        background: var(--dark-card);
        color: var(--dark-text);
        border-color: #334155;
      }

      .dark .form-actions {
        border-color: #334155;
      }

      .table-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding: 0 1rem;
      }

      .table-header h3 {
        margin: 0;
      }
    </style>

    <script>
      // Ø¯Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù
      function confirmDelete(itemId, itemType) {
        if(confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ${itemType} Ø±Ù‚Ù… ${itemId}ØŸ`)) {
          alert(`ØªÙ… Ø­Ø°Ù ${itemType} Ø±Ù‚Ù… ${itemId}`);
        }
      }

      // Ø¯Ø§Ù„Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù†ØµØ±
      function editItem(itemId, itemType) {
        alert(`ØªØ¹Ø¯ÙŠÙ„ ${itemType} Ø±Ù‚Ù… ${itemId}`);
      }

      // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
      function viewDetails(itemId, itemType) {
        alert(`Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ ${itemType} Ø±Ù‚Ù… ${itemId}`);
      }

      // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
      document.addEventListener('DOMContentLoaded', function() {
        // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†
        const inventoryItems = [
          { id: 1, name: 'Ù‚Ù…ÙŠØµ Ø±Ø¬Ø§Ù„ÙŠ', current: 45, min: 10, lastUpdate: '2024-04-25', status: 'normal' },
          { id: 2, name: 'Ø¨Ù†Ø·Ù„ÙˆÙ† Ø¬ÙŠÙ†Ø²', current: 8, min: 15, lastUpdate: '2024-04-20', status: 'low' },
          { id: 3, name: 'Ø­Ø°Ø§Ø¡ Ø±ÙŠØ§Ø¶ÙŠ', current: 12, min: 5, lastUpdate: '2024-04-22', status: 'normal' },
          { id: 4, name: 'Ø³Ø§Ø¹Ø© ÙŠØ¯', current: 3, min: 5, lastUpdate: '2024-04-21', status: 'low' },
          { id: 5, name: 'Ø­Ù‚ÙŠØ¨Ø© Ø¸Ù‡Ø±', current: 18, min: 8, lastUpdate: '2024-04-24', status: 'normal' }
        ];

        // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ù…Ø®Ø§Ø²Ù†
        const warehouses = [
          { id: 1, name: 'Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ', location: 'Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ', capacity: 1000, manager: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', status: 'active' },
          { id: 2, name: 'Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ', location: 'Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£ÙˆÙ„', capacity: 500, manager: 'Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ', status: 'active' },
          { id: 3, name: 'Ù…Ø®Ø²Ù† Ø®Ø§Ø±Ø¬ÙŠ', location: 'Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù…Ù„Ø­Ù‚', capacity: 800, manager: 'Ø³Ø§Ù„Ù… Ø®Ø§Ù„Ø¯', status: 'inactive' }
        ];

        // Ù…Ù„Ø¡ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        const inventoryTableBody = document.getElementById('inventory-table-body');
        inventoryItems.forEach(item => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${item.name}</td>
            <td>${item.current}</td>
            <td>${item.min}</td>
            <td>${item.lastUpdate}</td>
            <td><span class="status-badge ${item.status === 'low' ? 'warning' : 'success'}">${item.status === 'low' ? 'Ù…Ù†Ø®ÙØ¶' : 'Ø¹Ø§Ø¯ÙŠ'}</span></td>
            <td>
              <button class="btn-icon" onclick="viewDetails(${item.id}, 'Ø§Ù„Ù…Ù†ØªØ¬')">ğŸ‘ï¸</button>
              <button class="btn-icon" onclick="editItem(${item.id}, 'Ø§Ù„Ù…Ù†ØªØ¬')">âœï¸</button>
              <button class="btn-icon" onclick="confirmDelete(${item.id}, 'Ø§Ù„Ù…Ù†ØªØ¬')">ğŸ—‘ï¸</button>
            </td>
          `;
          inventoryTableBody.appendChild(row);
        });

        // Ù…Ù„Ø¡ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø®Ø§Ø²Ù†
        const warehousesTableBody = document.getElementById('warehouses-table-body');
        warehouses.forEach(warehouse => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${warehouse.name}</td>
            <td>${warehouse.location}</td>
            <td>${warehouse.capacity}</td>
            <td>${warehouse.manager}</td>
            <td><span class="status-badge ${warehouse.status === 'active' ? 'success' : 'inactive'}">${warehouse.status === 'active' ? 'Ù†Ø´Ø·' : 'ØºÙŠØ± Ù†Ø´Ø·'}</span></td>
            <td>
              <button class="btn-icon" onclick="viewDetails(${warehouse.id}, 'Ø§Ù„Ù…Ø®Ø²Ù†')">ğŸ‘ï¸</button>
              <button class="btn-icon" onclick="editItem(${warehouse.id}, 'Ø§Ù„Ù…Ø®Ø²Ù†')">âœï¸</button>
              <button class="btn-icon" onclick="confirmDelete(${warehouse.id}, 'Ø§Ù„Ù…Ø®Ø²Ù†')">ğŸ—‘ï¸</button>
            </td>
          `;
          warehousesTableBody.appendChild(row);
        });

        // Ù…Ù„Ø¡ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        const inventoryAlerts = document.getElementById('inventory-alerts');
        const lowItems = inventoryItems.filter(item => item.status === 'low');
        if (lowItems.length > 0) {
          lowItems.forEach(item => {
            const alert = document.createElement('div');
            alert.className = 'alert warning';
            alert.innerHTML = `<strong>ØªÙ†Ø¨ÙŠÙ‡!</strong> ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬ "${item.name}" Ù…Ù†Ø®ÙØ¶Ø© (${item.current} Ù…Ù† Ø£ØµÙ„ ${item.min} Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©).`;
            inventoryAlerts.appendChild(alert);
          });
        } else {
          const alert = document.createElement('div');
          alert.className = 'alert success';
          alert.innerHTML = '<strong>Ø¬ÙŠØ¯!</strong> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¶Ù…Ù† Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.';
          inventoryAlerts.appendChild(alert);
        }
      });

      // Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
      const productSearchInput = document.getElementById('product-search');
      const productSuggestionsContainer = document.getElementById('product-suggestions');

      // Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø§Ù‚ØªØ±Ø§Ø­
      const sampleProducts = [
        { id: 1, name: 'Ù‚Ù…ÙŠØµ Ø±Ø¬Ø§Ù„ÙŠ', sku: 'SHT-001', category: 'Ù…Ù„Ø§Ø¨Ø³' },
        { id: 2, name: 'Ø¨Ù†Ø·Ù„ÙˆÙ† Ø¬ÙŠÙ†Ø²', sku: 'PNT-002', category: 'Ù…Ù„Ø§Ø¨Ø³' },
        { id: 3, name: 'Ø­Ø°Ø§Ø¡ Ø±ÙŠØ§Ø¶ÙŠ', sku: 'SHO-001', category: 'Ø£Ø­Ø°ÙŠØ©' },
        { id: 4, name: 'Ø³Ø§Ø¹Ø© ÙŠØ¯', sku: 'WAT-003', category: 'Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª' },
        { id: 5, name: 'Ø­Ù‚ÙŠØ¨Ø© Ø¸Ù‡Ø±', sku: 'BAG-005', category: 'Ø­Ù‚Ø§Ø¦Ø¨' }
      ];

      // Ù…Ø³ØªÙ…Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
      if (productSearchInput) {
        productSearchInput.addEventListener('input', function() {
          const query = this.value.trim().toLowerCase();
          
          if (query.length < 2) {
            productSuggestionsContainer.style.display = 'none';
            return;
          }
          
          const filteredProducts = sampleProducts.filter(product => 
            product.name.toLowerCase().includes(query) || 
            product.sku.toLowerCase().includes(query)
          );
          
          if (filteredProducts.length > 0) {
            productSuggestionsContainer.innerHTML = '';
            
            filteredProducts.forEach(product => {
              const suggestionItem = document.createElement('div');
              suggestionItem.className = 'suggestion-item';
              
              // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚
              let highlightedName = product.name;
              if (product.name.toLowerCase().includes(query)) {
                const regex = new RegExp(`(${query})`, 'ig');
                highlightedName = product.name.replace(regex, '<mark>$1</mark>');
              }
              
              suggestionItem.innerHTML = `
                <div>${highlightedName}</div>
                <div>
                  <span class="product-category">${product.category}</span>
                  <span class="product-sku">${product.sku}</span>
                </div>
              `;
              
              suggestionItem.addEventListener('click', function() {
                productSearchInput.value = product.name;
                productSearchInput.classList.add('selected');
                productSuggestionsContainer.style.display = 'none';
              });
              
              productSuggestionsContainer.appendChild(suggestionItem);
            });
            
            productSuggestionsContainer.style.display = 'block';
          } else {
            productSuggestionsContainer.style.display = 'none';
          }
        });
        
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.addEventListener('click', function(e) {
          if (!productSearchInput.contains(e.target) && !productSuggestionsContainer.contains(e.target)) {
            productSuggestionsContainer.style.display = 'none';
          }
        });
      }

      // Ø¯Ø§Ù„Ø© Ù„ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø²ÙˆÙ† Ø¬Ø¯ÙŠØ¯
      function openAddStockForm() {
        document.getElementById('newInventoryFormContainer').style.display = 'block';
      }
    </script>
    <script src="../views/js/stores/index.js"> </script>
</body>
</html>